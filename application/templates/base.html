<!doctype html>
<html lang="en">
    <head>        
        <meta charset="utf-8" />
        <title> {% block title %} {% endblock %} </title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta content="Premium Multipurpose Admin & Dashboard Template" name="description" />
        <meta content="Themesbrand" name="author" />
        <!-- App favicon -->
        <link rel="shortcut icon" href="{{ url_for('static', filename='assets/images/favicon.ico') }}">
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='assets/libs/toastr/build/toastr.min.css') }}">
        <!-- DataTables -->
        <link href="{{ url_for('static', filename='assets/libs/datatables.net-bs4/css/dataTables.bootstrap4.min.css') }}" rel="stylesheet" type="text/css" />
        <link href="{{ url_for('static', filename='assets/libs/datatables.net-buttons-bs4/css/buttons.bootstrap4.min.css') }}" rel="stylesheet" type="text/css" />

        <!-- Responsive datatable examples -->
        <link href="{{ url_for('static', filename='assets/libs/datatables.net-responsive-bs4/css/responsive.bootstrap4.min.css') }}" rel="stylesheet" type="text/css" />
        <!-- Bootstrap Css -->
        <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/bootstrap.min.css') }}" />
        <!-- Icons Css -->
        <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/icons.min.css') }}" />
        <!-- App Css-->
        <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/app.min.css') }}" />
        <!-- App js -->
        <!-- <script src="static/assets/js/plugin.js"></script> -->
        <style>
            .toast.success { background-color: #19e248; }
            .toast.error { background-color: #e71325; }
        </style>
    </head>

    <body data-topbar="dark" data-layout="horizontal">
        <!-- Begin page -->
        <div id="layout-wrapper">
            <header id="page-topbar">
                <div class="navbar-header">
                    <div class="d-flex">
                        <!-- LOGO -->
                        <div class="navbar-brand-box">
                            <a href="#" class="logo logo-dark">
                                <span class="logo-sm"> <img src="{{ url_for('static', filename='assets/images/logo.svg') }}" alt="" height="22"> </span>
                                <span class="logo-lg"> <img src="{{ url_for('static', filename='assets/images/logo-dark.png') }}" alt="" height="17"> </span>
                            </a>

                            <a href="#" class="logo logo-light">
                                <span class="logo-sm"> <img src="{{ url_for('static', filename='assets/images/logo-light.svg') }}" alt="" height="22"> </span>
                                <span class="logo-lg"> <img src="{{ url_for('static', filename='assets/images/logo-light.png') }}" alt="" height="19"> </span>
                            </a>
                        </div>
                        <button type="button" class="btn btn-sm px-3 font-size-16 d-lg-none header-item waves-effect waves-light" data-bs-toggle="collapse" data-bs-target="#topnav-menu-content">
                            <i class="fa fa-fw fa-bars"></i>
                        </button>
                        <!-- App Search-->
                        <form class="app-search d-none d-lg-block">
                            <div class="position-relative"> <input type="text" class="form-control" placeholder="Search..."> <span class="bx bx-search-alt"></span> </div>
                        </form>
                    </div>

                    <div class="d-flex">
                        <div class="dropdown d-inline-block d-lg-none ms-2">
                            <button type="button" class="btn header-item noti-icon waves-effect" id="page-header-search-dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="mdi mdi-magnify"></i>
                            </button>
                            <div class="dropdown-menu dropdown-menu-lg dropdown-menu-end p-0" aria-labelledby="page-header-search-dropdown">
                                <form class="p-3">
                                    <div class="form-group m-0">
                                        <div class="input-group">
                                            <input type="text" class="form-control" placeholder="Search ..." aria-label="Search input">
                                            <button class="btn btn-primary" type="submit"><i class="mdi mdi-magnify"></i></button>s
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>

                        <div class="dropdown d-none d-lg-inline-block ms-1">
                            <button type="button" class="btn header-item noti-icon waves-effect" data-bs-toggle="fullscreen"> <i class="bx bx-fullscreen"></i> </button>
                        </div>

                        <div class="dropdown d-inline-block">
                            <button type="button" class="btn header-item waves-effect" id="page-header-user-dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <img class="rounded-circle header-profile-user" src=" {{ url_for('static', filename='assets/images/users/' + current_user.ProfilePic ) }} " alt="Header Avatar">
                                <span class="d-none d-xl-inline-block ms-1" key="t-henry">{{ current_user.Fullnames }}</span>
                                <i class="mdi mdi-chevron-down d-none d-xl-inline-block"></i>
                            </button>
                            <div class="dropdown-menu dropdown-menu-end">
                                <!-- item-->
                                <a class="dropdown-item" href="{{ url_for('auth_ctl.profile_page') }}"><i class="bx bx-user font-size-16 align-middle me-1"></i> <span key="t-profile">Profile</span></a>
                                <a class="dropdown-item d-none" href="#"><i class="bx bx-wallet font-size-16 align-middle me-1"></i> <span key="t-my-wallet">My Wallet</span></a>
                                <a class="dropdown-item d-block d-none" href="#"><span class="badge bg-success float-end">11</span><i class="bx bx-wrench font-size-16 align-middle me-1"></i> <span key="t-settings">Settings</span></a>
                                <a class="dropdown-item d-none" href="#"><i class="bx bx-lock-open font-size-16 align-middle me-1"></i> <span key="t-lock-screen">Lock screen</span></a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item text-danger" href="{{ url_for('auth_ctl.logout') }}"><i class="bx bx-power-off font-size-16 align-middle me-1 text-danger"></i> <span key="t-logout">Logout</span></a>
                            </div>
                        </div>

                        <!-- <div class="dropdown d-inline-block"> <button type="button" class="btn header-item noti-icon right-bar-toggle waves-effect"> <i class="bx bx-cog bx-spin"></i> </button> </div> -->

                    </div>
                </div>
            </header>

            <div class="topnav">
                <div class="container-fluid">
                    <nav class="navbar navbar-light navbar-expand-lg topnav-menu">
                        <div class="collapse navbar-collapse" id="topnav-menu-content">
                            <ul class="navbar-nav">
                                <li class="nav-item">
                                    <a class="nav-link arrow-none" href="{{ url_for('dash_ctrl.dashboard_page') }}"  role="button"> <i class="bx bx-home-circle me-2"></i><span key="t-dashboards">Dashboards</span> </a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link arrow-none" href="{{ url_for('course_ctr.Index_Page') }}"  role="button"> <i class="bx bxs-layer me-2"></i><span key="t-dashboards">Course</span> </a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link arrow-none" href="{{ url_for('student_ctrl.Student_Page') }}"  role="button"> <i class="bx bxs-group me-2"></i><span key="t-dashboards">Students</span> </a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link arrow-none" href="{{ url_for('book_ctrl.Book_Page') }}"  role="button"> <i class="bx bx-book-open  me-2"></i><span key="t-dashboards">Books</span> </a>
                                </li>

                                <li class="nav-item dropdown d-none">
                                    <a class="nav-link dropdown-toggle arrow-none" href="#" id="topnav-uielement" role="button" >
                                        <i class="bx bx-tone me-2"></i> <span key="t-ui-elements">Elements</span> <div class="arrow-down"></div>
                                    </a>
                                    <div class="dropdown-menu mega-dropdown-menu px-2 dropdown-mega-menu-xl" aria-labelledby="topnav-uielement">
                                        <div class="row">
                                            <div class="col-lg-4">
                                                <div>
                                                    <a href="#" class="dropdown-item" key="t-alerts">Alerts</a>
                                                    <a href="#" class="dropdown-item" key="t-buttons">Buttons</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </nav>
                </div>
            </div>

            <div class="main-content">
                <div class="page-content">

                    <div class="position-fixed top-0 end-0 end-0 p-3" style="z-index: 1005;">
                        {% with messages = get_flashed_messages(with_categories=true) %}
                            {% if messages %}
                                {% for category, message in messages %}
                                    <div class="toast fade show align-items-center text-white border-0 {{ category }}" role="alert" aria-live="assertive" aria-atomic="true" data-bs-autohide="true" data-bs-delay="5000">
                                        <div class="d-flex">
                                            <div class="toast-body"> {{ message }} </div>
                                            <button type="button" class="btn-close btn-close-white me-2 m-auto d-none" data-bs-dismiss="toast" aria-label="Close"></button>
                                        </div>
                                    </div>
                                {% endfor %}
                            {% endif %}
                        {% endwith %}
                    </div>

                    <!-- <div class="position-fixed bottom-0 top-0 end-0 p-3 d-none" style="z-index: 1005;">
                        <div class="alert-container">
                            {% with messages = get_flashed_messages(with_categories=True) %}
                              {% if messages %}
                                <div class="alert-container">
                                    {% for category, message in messages %}
                                      <div class="alert alert-dismissible fade show alert-{{ 'success' if category == 'success' else 'danger' }}" role="alert" 
                                      style="max-width: 300px; box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2); color: #000;">
                                        {{ message }}
                                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                      </div>
                                    {% endfor %}
                                </div>
                              {% endif %}
                            {% endwith %}
                        </div>
                    </div> -->

                    <div class="container-fluid"> {% block content %} {% endblock %} </div> <!-- container-fluid -->

                </div>
                <!-- End Page-content -->
                <footer class="footer">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-sm-6"> <script>document.write(new Date().getFullYear())</script> © ngenx. </div>
                            <div class="col-sm-6"> <div class="text-sm-end d-none d-sm-block"> Design & Develop by ngenx </div> </div>
                        </div>
                    </div>
                </footer>
            </div>
        </div>
        <!-- END layout-wrapper -->

        <!-- Right bar overlay-->
        <div class="rightbar-overlay"></div>
        <!-- JAVASCRIPT -->
        <script src="{{ url_for('static', filename='assets/libs/jquery/jquery.min.js') }}"></script>
        <script src="{{ url_for('static', filename='assets/libs/bootstrap/js/bootstrap.bundle.min.js') }}"></script>
        <script src="{{ url_for('static', filename='assets/libs/metismenu/metisMenu.min.js') }}"></script>
        <script src="{{ url_for('static', filename='assets/libs/simplebar/simplebar.min.js') }}"></script>
        <script src="{{ url_for('static', filename='assets/libs/node-waves/waves.min.js') }}"></script>
        <!-- Required datatable js -->
        <script src="{{ url_for('static', filename='assets/libs/datatables.net/js/jquery.dataTables.min.js') }}"></script>
        <script src="{{ url_for('static', filename='assets/libs/datatables.net-bs4/js/dataTables.bootstrap4.min.js') }}"></script>
        <!-- Buttons examples -->
        <script src="{{ url_for('static', filename='assets/libs/datatables.net-buttons/js/dataTables.buttons.min.js') }}"></script>
        <script src="{{ url_for('static', filename='assets/libs/datatables.net-buttons-bs4/js/buttons.bootstrap4.min.js') }}"></script>
        <script src="{{ url_for('static', filename='assets/libs/jszip/jszip.min.js') }}"></script>
        <script src="{{ url_for('static', filename='assets/libs/pdfmake/build/pdfmake.min.js') }}"></script>
        <script src="{{ url_for('static', filename='assets/libs/pdfmake/build/vfs_fonts.js') }}"></script>
        <script src="{{ url_for('static', filename='assets/libs/datatables.net-buttons/js/buttons.html5.min.js') }}"></script>
        <script src="{{ url_for('static', filename='assets/libs/datatables.net-buttons/js/buttons.print.min.js') }}"></script>
        <script src="{{ url_for('static', filename='assets/libs/datatables.net-buttons/js/buttons.colVis.min.js') }}"></script>
        <!-- Responsive examples -->
        <script src="{{ url_for('static', filename='assets/libs/datatables.net-responsive/js/dataTables.responsive.min.js') }}"></script>
        <script src="{{ url_for('static', filename='assets/libs/datatables.net-responsive-bs4/js/responsive.bootstrap4.min.js') }}"></script>
        <!-- Datatable init js -->
        <script src="{{ url_for('static', filename='assets/js/pages/datatables.init.js') }}"></script>
        <!-- apexcharts -->
        <script src="{{ url_for('static', filename='assets/libs/apexcharts/apexcharts.min.js') }}"></script>
        <script src="{{ url_for('static', filename='assets/js/pages/dashboard.init.js') }}"></script>
        <!-- toastr plugin -->
        <script src="{{ url_for('static', filename='assets/libs/toastr/build/toastr.min.js') }}"></script>
        <!-- toastr init -->
        <script src="{{ url_for('static', filename='assets/js/pages/toastr.init.js') }}"></script>
        <!-- Bootstrap Toasts Js -->
        <script src="{{ url_for('static', filename='assets/js/pages/bootstrap-toastr.init.js') }}"></script>
        <script src="{{ url_for('static', filename='assets/js/app.js') }}"></script>
        <script>
            $(document).ready(function() {
                // Automatically dispose alerts after 5 seconds
                setTimeout(function() {
                    $('.alert').alert('close');  // Dismiss alert
                    $('.alert').alert('dispose'); // Remove from DOM
                }, 5000);  // Time in milliseconds (5 seconds)

                var toastElements = document.querySelectorAll('.toast');
                toastElements.forEach(function(toastElement) {
                    // Initialize Bootstrap toast instance
                    var toast = new bootstrap.Toast(toastElement);
                    // Show the toast
                    toast.show();
                    // Automatically close toast after 5 seconds
                    setTimeout(function() {
                        toast.hide();  // Hide the toast
                        toast.dispose(); // Remove from DOM (optional)
                    }, 5000); // Set the timeout in milliseconds (5000 = 5 seconds)
                });

            });
        </script>
    </body>
</html>
